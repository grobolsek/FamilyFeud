<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Question Container</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <div class="card mb-2">
      <div class="card-body d-flex flex-column flex-sm-row justify-content-between align-items-center">
        <div class="input-group me-0 me-sm-5 mb-2 mb-sm-0">
          <span class="input-group-text" id="question-input">Question</span>
          <input value="{{ question.question_text }}" type="text" class="form-control" aria-label="question-input" aria-describedby="question-input">
        </div>
        <div class="d-flex align-items-center">
          <!-- Checkbox button -->
          <div class="me-2">
            <input type="checkbox" class="btn-check" id="type" autocomplete="off">
            <label class="btn btn-outline-secondary" for="type">Multi</label>
          </div>
          <!-- Save button -->
          <a href="/admin/questions/save/{{ question.question_id }}" class="btn btn-success me-2">Save</a>
          <!-- Delete button -->
          <a href="/admin/questions" class="btn btn-warning me-2">Cancel</a>
        </div>
      </div>
    </div>
    {% if question.question_type == "multi" %}
      <div class="card">
        <div class="card-body">
          <div class="row row-cols-1 row-cols-sm-2 g-3 mb-3">
            {% for key, value in pos_ans %}
              <div class="col">
                <div class="input-group">
                  <input value="{{ value }}" type="text" id="removeInput{{ key }}" class="form-control" placeholder="Answer" aria-label="remove" aria-describedby="remove">
                  <button class="btn btn-outline-danger" type="button" id="remove{{ key }}">Remove</button>
                </div>
              </div>
            {% endfor %}
          </div>
          <button class="btn btn-outline-success" type="button" id="add-answer">Add answer</button>
        </div>
      </div>
    {% endif %}
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleCheckbox(bool) {
      let checkbox = document.getElementById("type");
      checkbox.checked = bool;
    }

    let question_type = "{{ question.question_type }}"

    document.addEventListener("DOMContentLoaded", () => {
      if (question_type === "multi") {
          toggleCheckbox(true)
      }
    });

    document.getElementById("type").addEventListener("change", () => {

    })


  </script>
</body>
</html>
